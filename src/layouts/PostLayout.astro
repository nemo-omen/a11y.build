---
  import HeadLayout from './HeadLayout.astro';
  import BlogHeadLayout from './BlogHeadLayout.astro';
  import Header from '../components/Header.astro';
  import Footer from '../components/Footer.astro';
  import Sidebar from '../components/Sidebar.astro';
  import TutorialOverview from '../components/TutorialOverview.svelte';
  import ThemeScript from '../components/ThemeScript.astro';
  import MenuButton from '../components/MenuButton.astro';

  const guideSections =     Astro.fetchContent('../pages/sections/*/*.md');
  const tutorialSections =  Astro.fetchContent('../pages/tutorial/*/*.md');
  const postSections =      Astro.fetchContent('../pages/posts/*/*.md');

  const menus = [tutorialSections, guideSections, postSections];
  const menuTitles = ['Tutorial', 'Guide', 'More'];
  const { content } = Astro.props;
---
<!DOCTYPE html>
<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="/assets/prism-a11y-dark.css">
  <HeadLayout title={content.title}>
    <BlogHeadLayout title={content.title} permalink={content.permalink} description={content.description}></BlogHeadLayout>
  </HeadLayout>

</head>

<body>
  <Header />
  <div class="page">
    <Sidebar titles={menuTitles} menus={menus} />
    <main class="flow" id="main" role="main">
      <section class="post flow">
        <h1 class="section-heading">{content.title}</h1>
        <time>
          Last updated: 
              {new Date(content.date)
                .toLocaleString(
                  'en-us', 
                  {
                    weekday: 'long', 
                    year: 'numeric', 
                    month: 'long', 
                    day: 'numeric'
                  }
                )
              }
          </time>
          <TutorialOverview items={content.overviewItems}/>
          <slot />
      </section>
    <MenuButton />
    </main>
  </div>

  <Footer />
</body>
<ThemeScript client:load/>
</html>