---
 const { id } = Astro.props;
---



<fieldset class="text-toggle">
<legend>Font</legend>
  <button class="switch switch-atkinson">
    A<sub>t</sub>
  </button>
  <button class="switch switch-sylexiad">
    S<sub>y</sub>
  </button>
</fieldset>

<script>
  const atkinson = document.querySelector('.switch-atkinson');
  const sylexiad = document.querySelector('.switch-sylexiad');

  atkinson.addEventListener('click', () => switchFont('atkinson'));
  sylexiad.addEventListener('click', () => switchFont('sylexiad'));

  function switchFont(fontName) {
    localStorage.setItem('documentFont', fontName);
    document.documentElement.className = fontName;
    setSelected(fontName);
  }

  function setSelected(fontName) {
    if(fontName === 'atkinson') {
      atkinson.classList.add('selected');
      sylexiad.classList.remove('selected');
    }

    if(fontName === 'sylexiad') {
      sylexiad.classList.toggle('selected');
      atkinson.classList.remove('selected');
    }
  }

  (function() {
    if(localStorage.getItem('documentFont')) {
      switchFont(localStorage.getItem('documentFont'));
    }
  }())
</script>

<style>
  .text-toggle {
    display: flex;
    gap: 1rem;
    border: none;
    padding: 0;
    background: transparent;
    border: 1px solid var(--foreground);
    padding: 0 var(--space-2xs-xs) 0.5rem var(--space-2xs-xs);
  }

  .switch {
    font-size: var(--step-1);
    letter-spacing: 0.125em;
    background: transparent;
    border: none;
    color: var(--foreground);
    cursor: pointer;
    padding: 0.25rem 0.5rem;
  }
  .switch:hover {
    color: var(--hover);
  }
  .selected {
    background: var(--background-muted);
  }
</style>
