---
 
---
<fieldset class="color-toggle">
<legend>Color</legend>
  <button class="switch switch-light">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="c">
    <path fill="none" d="M0 0h24v24H0z"/>
    <path d="M12 18a6 6 0 1 1 0-12 6 6 0 0 1 0 12zm0-2a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM11 1h2v3h-2V1zm0 19h2v3h-2v-3zM3.515 4.929l1.414-1.414L7.05 5.636 5.636 7.05 3.515 4.93zM16.95 18.364l1.414-1.414 2.121 2.121-1.414 1.414-2.121-2.121zm2.121-14.85l1.414 1.415-2.121 2.121-1.414-1.414 2.121-2.121zM5.636 16.95l1.414 1.414-2.121 2.121-1.414-1.414 2.121-2.121zM23 11v2h-3v-2h3zM4 11v2H1v-2h3z"/>
    </svg>
  </button>
  <button class="switch switch-dark">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="c">
    <path fill="none" d="M0 0h24v24H0z"/>
    <path d="M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm-5-4.68a8.965 8.965 0 0 0 5.707-2.613A8.965 8.965 0 0 0 15.32 7 6 6 0 1 1 7 15.32z"/>
    </svg>
  </button>
</fieldset>

<script>
  const doc = document.documentElement;
  const light = document.querySelector('.switch-light');
  const dark = document.querySelector('.switch-dark');

  light.addEventListener('click', () => switchTheme('light'));
  dark.addEventListener('click', () => switchTheme('dark'));

  function switchTheme(mode) {
    console.log({mode});
    switch(mode) {
      case 'light':
        doc.classList.add('light');
        doc.classList.remove('dark');
        dark.setAttribute('aria-pressed', false);
        light.setAttribute('aria-pressed', true);
        break;
      case 'dark':
        doc.classList.add('dark');
        doc.classList.remove('light');
        dark.setAttribute('aria-pressed', true);
        light.setAttribute('aria-pressed', false);
        break;
    }
    localStorage.setItem('documentMode', mode);
  }

  (function() {
    const currentMode = localStorage.getItem('documentMode')
    if(currentMode) {
      switchTheme(currentMode);
    }
  }())
</script>

<style>
  .color-toggle {
    display: flex;
    justify-content: space-around;
    gap: 1rem;
    border: none;
    padding: 0;
    background: transparent;
    border: 1px solid var(--foreground);
    padding: 0 var(--space-2xs-xs) 0.5rem var(--space-2xs-xs);
  }

  .switch {
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: var(--step-1);
    letter-spacing: 0.125em;
    background: transparent;
    border: none;
    color: var(--foreground);
    cursor: pointer;
    padding: 0.25rem 0.5rem;
  }
  .switch:hover {
    color: var(--hover);
  }
  .switch[aria-pressed='true'] {
    background: var(--background-muted);
  }
  .c {
    fill: currentColor;
    width: 1em;
    height: auto;
    fill-rule: evenodd;
    clip-rule: evenodd;
  }
</style>
